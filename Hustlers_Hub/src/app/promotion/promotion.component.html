<div class="promo-container">
  <h2>Community Promotions</h2>
  <p class="subtitle">Discover events, deals, and local happenings</p>

  <div class="create-promo-btn-container">
    <button class="btn create-promo-btn" (click)="openCreatePromoModal()">
      + Create Promotion
    </button>
  </div>

  <!-- Search, Filter, Sort Controls -->
  <div class="search-sort-filter">
    <input type="text" [(ngModel)]="searchTerm" placeholder="Search title or description..." />

    <select [(ngModel)]="filterCategory">
      <option value="">All Categories</option>
      <option *ngFor="let cat of uniqueCategories" [value]="cat">{{ cat }}</option>
    </select>

    <select [(ngModel)]="sortBy">
      <option value="expires">Sort by Expiry</option>
      <option value="title">Sort by Title</option>
      <option value="postedBy">Sort by Poster</option>
    </select>
  </div>

  <div class="promo-list">
    <div class="promo-card" *ngFor="let promo of filteredPromotions">
      <img [src]="promo.imageUrl" alt="{{ promo.title }}" />
      <h3>{{ promo.title }}</h3>
      <p>{{ promo.description }}</p>
      <div class="promo-meta">
        <span>üë§ {{ promo.postedBy }}</span>
        <span>‚è≥ {{ promo.expires | date:'mediumDate' }}</span>
        <span>üìÇ {{ promo.category }}</span>
      </div>
    </div>
  </div>
</div>
