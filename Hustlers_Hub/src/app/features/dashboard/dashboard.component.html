<div class="dashboard-container">
  <h2 class="welcome">Welcome Back, Hustler ğŸ’¼</h2>

  <!-- Business Logo -->
  <div class="logo-wrapper" *ngIf="business.logoUrl">
    <img [src]="'https://localhost:7018' + business.logoUrl"
         alt="Business Logo"
         class="dashboard-logo" />
  </div>
  <div class="dashboard-grid">
    <!-- Bookings Overview -->
    <mat-card class="dashboard-card clickable" (click)="goTo('bookings')">
      <mat-card-title>ğŸ“… Upcoming Bookings</mat-card-title>
      <mat-card-content>
        <p *ngIf="bookings.length === 0">No upcoming bookings.</p>
        <ul *ngIf="bookings.length">
          <li *ngFor="let b of bookings | slice:0:3">
            {{ b.date | date: 'shortDate' }} - {{ b.clientName }} ({{ b.service }})
          </li>
        </ul>
      </mat-card-content>
    </mat-card>

    <!-- Booking History -->
    <mat-card class="dashboard-card clickable" (click)="goTo('history')">
      <mat-card-title>ğŸ“ Booking History</mat-card-title>
      <mat-card-content>
        <p>{{ history.length }} jobs completed</p>
        <ul *ngIf="history.length">
          <li *ngFor="let h of history | slice:0:3">
            {{ h.date | date: 'shortDate' }} - {{ h.clientName }}
          </li>
        </ul>
      </mat-card-content>
    </mat-card>

    <!-- Latest Reviews -->
    <mat-card class="dashboard-card clickable" (click)="goTo('reviews')">
      <mat-card-title>â­ Latest Reviews</mat-card-title>
      <mat-card-content>
        <div *ngIf="reviews.length > 0; else noReviews">
          <p *ngFor="let r of reviews | slice:0:2">
            â€œ{{ r.comment }}â€ â€” <strong>{{ r.reviewer }}</strong> ({{ r.rating }}/5)
          </p>
        </div>
        <ng-template #noReviews>
          <p>No reviews yet.</p>
        </ng-template>
      </mat-card-content>
    </mat-card>
  </div>
  <!-- Business Management Tools Section -->
  <div class="tools-section">
    <h3 class="tools-header">ğŸ§° Business Management Tools</h3>

    <div class="tools-grid">
      <!-- Unlocked Tools -->
      <div class="tool-card" (click)="goTo('edit-business')">
        <div class="tool-icon">ğŸ“</div>
        <div class="tool-title">Edit Business Profile</div>
      </div>

      <div class="tool-card" (click)="goTo('update-logo')">
        <div class="tool-icon">ğŸ–¼ï¸</div>
        <div class="tool-title">Update Logo & Photos</div>
      </div>

      <div class="tool-card" (click)="goTo('customer-feedback')">
        <div class="tool-icon">ğŸ’¬</div>
        <div class="tool-title">View Customer Feedback</div>
      </div>

      <!-- Premium Tools -->
      <div class="tool-card locked-tool">
        <div class="lock-icon">ğŸ”’</div>
        <div class="tool-icon">ğŸ“©</div>
        <div class="tool-title">Customer Messaging</div>
      </div>
      <div class="tool-card locked-tool">
        <div class="lock-icon">ğŸ”’</div>
        <div class="tool-icon">ğŸ’°</div>
        <div class="tool-title">View Total Earnings</div>
      </div>
      <div class="tool-card locked-tool">
        <div class="lock-icon">ğŸ”’</div>
        <div class="tool-icon">ğŸ’³</div>
        <div class="tool-title">Online Payment Setup</div>
      </div>
      <div class="tool-card locked-tool">
        <div class="lock-icon">ğŸ”’</div>
        <div class="tool-icon">ğŸ“Š</div>
        <div class="tool-title">Advanced Analytics</div>
      </div>
    </div>
  </div>
</div>
