<div class="dashboard-container">
  <h2 class="welcome">Welcome Back, Hustler ğŸ’¼</h2>

  <!-- Business Logo -->
  <div class="logo-wrapper" *ngIf="business.logoUrl">
    <img [src]="'https://localhost:7018' + business.logoUrl"
         alt="Business Logo"
         class="dashboard-logo" />
  </div>

  <div class="dashboard-grid">
    <!-- Bookings Overview -->
    <mat-card class="dashboard-card clickable" (click)="goTo('bookings')">
      <mat-card-title>ğŸ“… Upcoming Bookings</mat-card-title>
      <mat-card-content>
        <p *ngIf="bookings.length === 0">No upcoming bookings.</p>
        <ul *ngIf="bookings.length">
          <li *ngFor="let b of bookings | slice:0:3">
            {{ b.date | date: 'shortDate' }} - {{ b.clientName }} ({{ b.service }})
          </li>
        </ul>
      </mat-card-content>
    </mat-card>

    <!-- Booking History -->
    <mat-card class="dashboard-card">
      <mat-card-title>ğŸ“ Booking History</mat-card-title>
      <mat-card-content>
        <p>{{ history.length }} jobs completed</p>
        <ul *ngIf="history.length">
          <li *ngFor="let h of history | slice:0:3">
            {{ h.date | date: 'shortDate' }} - {{ h.clientName }}
          </li>
        </ul>
      </mat-card-content>
    </mat-card>

    <!-- Latest Reviews -->
    <mat-card class="dashboard-card">
      <mat-card-title>â­ Latest Reviews</mat-card-title>
      <mat-card-content>
        <div *ngIf="reviews.length > 0; else noReviews">
          <p *ngFor="let r of reviews | slice:0:2">
            â€œ{{ r.comment }}â€ â€” <strong>{{ r.reviewer }}</strong> ({{ r.rating }}/5)
          </p>
        </div>
        <ng-template #noReviews>
          <p>No reviews yet.</p>
        </ng-template>
      </mat-card-content>
    </mat-card>

    <!-- Earnings -->
    <mat-card class="dashboard-card">
      <mat-card-title>ğŸ’° Total Earnings</mat-card-title>
      <mat-card-content>
        <h3>R{{ totalEarnings | number: '1.2-2' }}</h3>
        <p>{{ history.length }} jobs done</p>
      </mat-card-content>
    </mat-card>
  </div>
</div>
