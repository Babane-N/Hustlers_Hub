<div class="detail-container" *ngIf="provider">
  <!-- Profile / Summary -->
  <div class="profile-card mat-elevation-z3">
    <img *ngIf="provider.logoUrl"
         [src]="'https://localhost:7018' + provider.logoUrl"
         alt="{{ provider.businessName }}"
         class="profile-img" />

    <div class="info">
      <h2>{{ provider.businessName }}</h2>
      <span *ngIf="provider.isVerified" class="verified-badge">
        <mat-icon color="primary">verified</mat-icon> Verified
      </span>

      <p class="service"><strong>Service:</strong> {{ provider.title }}</p>
      <p class="location">
        <mat-icon>location_on</mat-icon> {{ provider.businessLocation }}
      </p>
      <p class="description">{{ provider.description }}</p>

      <button mat-raised-button
              color="primary"
              (click)="openBookingDialog(provider.id)">
        Book Now
      </button>
    </div>
  </div>

  <!-- Gallery -->
  <div class="gallery-section" *ngIf="provider.imageUrl">
    <h3>Previous Work</h3>
    <div class="gallery">
      <img [src]="'https://localhost:7018' + provider.imageUrl"
           alt="Work image"
           class="gallery-img" />
    </div>
  </div>

  <!-- Reviews -->
  <div class="reviews-section">
    <h3>Client Reviews</h3>

    <div *ngIf="reviews.length > 0; else noReviews">
      <div *ngFor="let review of reviews" class="review mat-elevation-z1">
        <strong>{{ review.reviewer }}</strong>
        <span class="stars">
          <mat-icon *ngFor="let star of [1, 2, 3, 4, 5]">
            {{ star <= review.rating ? 'star' : 'star_border' }}
          </mat-icon>
        </span>
        <p>{{ review.comment }}</p>
      </div>
    </div>

    <ng-template #noReviews>
      <p>No reviews yet for this service.</p>
    </ng-template>
  </div>
</div>
