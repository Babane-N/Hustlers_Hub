<!-- Hero Heading Section -->
<div class="hero-heading">
  <h2>Local Hustlers, Trusted Services</h2>
  <p class="slogan">Empowering small businesses near you, one connection at a time.</p>

  <button class="register-btn" (click)="goToRegisterBusiness()">
    + Register Your Business
  </button>
</div>

<!-- Search and Filter Bar -->
<div class="search-filter-bar">
  <input #locationInput
         type="text"
         placeholder="Search by name, service, or location"
         [(ngModel)]="searchTerm" />

  <select [(ngModel)]="selectedService">
    <option value="">All Services</option>
    <option *ngFor="let service of uniqueServices" [value]="service">{{ service }}</option>
  </select>

  <select [(ngModel)]="sortBy">
    <option value="name">Sort by Name</option>
    <option value="location">Sort by Location</option>
  </select>

  <!-- Toggle Buttons -->
  <div class="view-toggle">
    <button mat-stroked-button color="primary"
            (click)="toggleView('list')"
            [disabled]="viewMode==='list'">
      <mat-icon>view_list</mat-icon> List View
    </button>
    <button mat-stroked-button color="primary"
            (click)="toggleView('map')"
            [disabled]="viewMode==='map'">
      <mat-icon>map</mat-icon> Map View
    </button>
  </div>
</div>

<!-- Results -->
<div *ngIf="viewMode==='list'" class="results-grid">
  <div class="service-card"
       *ngFor="let provider of filteredProviders"
       (click)="goFindServiceDetail(provider)"
       style="cursor: pointer;">

    <img [src]="provider.logoUrl
    ? (provider.logoUrl.startsWith('http')
        ? provider.logoUrl
        : environment.uploadsUrl + '/' + provider.logoUrl)
    : 'assets/default.png'"
         alt="{{ provider.businessName }} Logo"
         class="profile-pic" />

    <h3>{{ provider.businessName }}</h3>
    <p class="service">{{ provider.category }}</p>
    <p class="location">
      <mat-icon>location_on</mat-icon> {{ provider.businessLocation }}
    </p>
    <p class="bio">{{ provider.description }}</p>
  </div>
</div>

<!-- Map -->
<div *ngIf="viewMode==='map'" class="map-container">
  <google-map height="500px" width="100%"
              [center]="center"
              [zoom]="zoom">
    <map-marker *ngFor="let marker of mapMarkers"
                [position]="marker.position"
                [title]="marker.title"
                (mapClick)="goFindServiceDetail(marker.provider)">
    </map-marker>
  </google-map>
</div>

